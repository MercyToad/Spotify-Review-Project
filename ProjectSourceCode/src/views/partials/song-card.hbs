<article class="discover-container glass-card" style="position: relative; cursor: pointer;">
    <a href="/song/{{track.id}}" style="text-decoration: none; color: inherit; display: block;">
        <div class="cover-placeholder">
            {{#if track.album.images}}
                {{#if track.album.images.[0].url}}
                    <img src="{{track.album.images.[0].url}}" alt="{{#if track.name}}{{track.name}}{{else}}Song{{/if}}">
                {{else}}
                    <img src="https://placehold.co/300x300/1DB954/white?text=Album+Art" alt="{{#if track.name}}{{track.name}}{{else}}Song{{/if}}">
                {{/if}}
            {{else}}
                <img src="https://placehold.co/300x300/1DB954/white?text=Album+Art" alt="{{#if track.name}}{{track.name}}{{else}}Song{{/if}}">
            {{/if}}
        </div>
        <div>
            <h3 class="song-title">{{#if track.name}}{{track.name}}{{else}}Unknown Song{{/if}}</h3>
            <p class="meta-muted">
                {{#if track.artists}}
                    {{#each track.artists}}
                        {{#if @first}}{{this.name}}{{else}}, {{this.name}}{{/if}}
                    {{/each}}
                {{else}}
                    Unknown Artist
                {{/if}}
            </p>
            {{#if track.album.genres}}
            <p class="meta-muted" style="font-size: 0.75rem; margin-top: 0.25rem;">
                {{#each track.album.genres}}
                    {{#if @first}}{{this}}{{else}} • {{this}}{{/if}}
                {{/each}}
            </p>
            {{/if}}
        </div>
        <div class="card-footer" style="display: flex; align-items: center; gap: 0.5rem; justify-content: space-between;">
            <div style="display: flex; align-items: center; gap: 0.5rem;">
                <span class="rating-badge">★ {{#if averageRating}}{{averageRating}}{{else}}4.5{{/if}}</span>
                <span class="review-count muted-small">{{#if reviewCount}}{{reviewCount}}{{else}}0{{/if}} reviews</span>
            </div>
            <a href="/song/{{track.id}}#review" class="add-review-btn-inline" title="Add Review" onclick="event.stopPropagation(); event.preventDefault(); window.location.href='/song/{{track.id}}#review';">
                <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <line x1="12" y1="5" x2="12" y2="19"></line>
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </a>
        </div>
    </a>
</article>