{{!--
  Home page template
  - Shows recommended songs, albums and a right-hand sidebar with widgets.
  - Uses card components (content-card) and the grid `home-grid-layout` to arrange content.
  - This file is rendered into `main.hbs` via the layout system.
--}}

<div class="home-grid-layout">
  <!-- 
    MAIN CONTENT COLUMN (Left)
  -->
  <main data-username="{{username}}" class="main-content">
    
    <!-- "Recommended for You" Section -->
    <section class="content-section">
      <h2>Recommended for You</h2>
      <p class="section-subtitle">Based on your listening history</p>
      <div class="content-grid three-col">
        {{#each songs}}
          {{> song-card}}
        {{/each}}
      </div>
    </section>

    <!-- "Albums" Section -->
    <section class="content-section">
      <h2>Albums</h2>
      <div class="content-grid three-col">
        <!-- Album 1 -->
        <div class="content-card">
          <img src="{{album.images.[0].url}}" alt="Album Art">
          <h3>{{album.name}}</h3>
          <p>{{album.artists.[0].name}}</p>
          <div class="card-rating">
            <svg class="star-icon" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.172c.969 0 1.371 1.24.588 1.81l-3.376 2.45a1 1 0 00-.364 1.118l1.286 3.97c.3.921-.755 1.688-1.54 1.118l-3.376-2.45a1 1 0 00-1.175 0l-3.376 2.45c-.784.57-1.838-.197-1.54-1.118l1.286-3.97a1 1 0 00-.364-1.118L2.24 9.397c-.783-.57-.38-1.81.588-1.81h4.172a1 1 0 00.95-.69l1.286-3.97z"></path></svg>
            <span>4.8</span>
            <span class="review-count">421 reviews</span>
          </div>
        </div>
        <!-- Album 2, etc. -->
      </div>
    </section>

    <!-- "Your Recent Reviews" Section -->
    <section class="content-section">
      <h2>Your Recent Reviews</h2>
      <div class="content-grid three-col">
        <!-- Review Card 1 -->
        <div class="review-card-long glass-card">
          <div class="review-card-header">
            <img class="review-user-avatar" src="https://placehold.co/40x40/22c55e/white?text=A" alt="Avatar">
            <div class="review-user-info">
              <span>musiclover_23</span>
              <span class="review-timestamp">2h ago</span>
            </div>
            <div class="review-user-rating">4.5</div>
          </div>
          <div class="review-card-body">
            <p class="review-song-title">Watermelon Sugar</p>
            <p class="review-song-artist">Harry Styles</p>
            <p class="review-text">"Such a feel-good track! Perfect for summer vibes..."</p>
          </div>
        </div>
        <!-- Review Card 2, etc. -->
      </div>
    </section>

  </main>

  <!-- 
    SIDEBAR (Right)
  -->
  <aside class="sidebar-content">
    
    <!-- "From Your Playlists" Widget -->
    <section class="sidebar-widget glass-card">
      <h3>From Your Playlists</h3>
      <p class="section-subtitle">Based on "Workout Mix"</p>
      <ul class="widget-list">
        <li>
          <img src="https://placehold.co/48x48/f97316/white?text=DSN" alt="Album Art">
          <div class="widget-list-info">
            <span>Don't Start Now</span>
            <span>Dua Lipa</span>
          </div>
          <div class="widget-list-rating">
            <svg class="star-icon" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.172c.969 0 1.371 1.24.588 1.81l-3.376 2.45a1 1 0 00-.364 1.118l1.286 3.97c.3.921-.755 1.688-1.54 1.118l-3.376-2.45a1 1 0 00-1.175 0l-3.376 2.45c-.784.57-1.838-.197-1.54-1.118l1.286-3.97a1 1 0 00-.364-1.118L2.24 9.397c-.783-.57-.38-1.81.588-1.81h4.172a1 1 0 00.95-.69l1.286-3.97z"></path></svg>
            <span>4.6</span>
          </div>
        </li>
        <li>
          <img src="https://placehold.co/48x48/f97316/white?text=P" alt="Album Art">
          <div class="widget-list-info">
            <span>Physical</span>
            <span>Dua Lipa</span>
          </div>
          <div class="widget-list-rating">
            <svg class="star-icon" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.172c.969 0 1.371 1.24.588 1.81l-3.376 2.45a1 1 0 00-.364 1.118l1.286 3.97c.3.921-.755 1.688-1.54 1.118l-3.376-2.45a1 1 0 00-1.175 0l-3.376 2.45c-.784.57-1.838-.197-1.54-1.118l1.286-3.97a1 1 0 00-.364-1.118L2.24 9.397c-.783-.57-.38-1.81.588-1.81h4.172a1 1 0 00.95-.69l1.286-3.97z"></path></svg>
            <span>4.3</span>
          </div>
        </li>
      </ul>
    </section>

    <!-- "Community Highlights" Widget -->
    <section class="sidebar-widget glass-card">
      <h3>Recent Reviews</h3>
      <p class="section-subtitle">See what's up</p>
      <ul class="widget-list">
        <li>
          <div class="widget-list-info">
            <span>{{recentreview.title}} by {{recentreview.artist}}</span>
            <span>{{recentreview.review_text}}</span>
          </div>
          <div class="widget-list-rating">
            <svg class="star-icon" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.97a1 1 0 00.95.69h4.172c.969 0 1.371 1.24.588 1.81l-3.376 2.45a1 1 0 00-.364 1.118l1.286 3.97c.3.921-.755 1.688-1.54 1.118l-3.376-2.45a1 1 0 00-1.175 0l-3.376 2.45c-.784.57-1.838-.197-1.54-1.118l1.286-3.97a1 1 0 00-.364-1.118L2.24 9.397c-.783-.57-.38-1.81.588-1.81h4.172a1 1 0 00.95-.69l1.286-3.97z"></path></svg>
            <span>{{recentreview.rating}}</span>
          </div>
        </li>
      </ul>
    </section>

  </aside>
</div>